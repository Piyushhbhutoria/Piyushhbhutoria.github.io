---
import App from "@/App";
import honestBoxImg from "@/content/projects/honest-box.png";
import houseHelpImg from "@/content/projects/house-help.png";
import samudaiImg from "@/content/projects/samudai.jpeg";
import supertokensImg from "@/content/projects/supertokens.png";
import wishWallImg from "@/content/projects/wish-wall.png";
import "@/index.css";
import { getEntry } from "astro:content";

const projectImageMap: Record<string, string> = {
    "honest-box.png": honestBoxImg.src,
    "house-help.png": houseHelpImg.src,
    "samudai.jpeg": samudaiImg.src,
    "supertokens.png": supertokensImg.src,
    "wish-wall.png": wishWallImg.src,
};
const heroEntry = await getEntry("site", "hero");
const heroData = heroEntry.data as {
    title: string;
    name: string;
    description: string;
    cta: {
        primary: { text: string; href: string };
        secondary: { text: string; href: string };
    };
    social: { github: string; linkedin: string; email: string };
};
const aboutEntry = await getEntry("site", "about");
const aboutData = aboutEntry.data as {
    title: string;
    highlightWord: string;
    paragraphs: Array<{ text: string; bold?: boolean }>;
};
const experienceEntry = await getEntry("site", "experience");
const experienceData = experienceEntry.data as {
    title: string;
    experiences: Array<{
        company: string;
        role: string;
        duration: string;
        location: string;
        description: string[];
        techStack: string;
        color: "primary" | "secondary" | "accent";
    }>;
};
const projectsEntry = await getEntry("site", "projects");
const projectsRawData = projectsEntry.data as {
    title: string;
    subtitle: string;
    projects: Array<{
        title: string;
        description: string;
        tech: string;
        file?: string;
        links: Array<{ type: "demo" | "github"; url: string }>;
        color: string;
    }>;
};
const projectsData = {
    ...projectsRawData,
    projects: projectsRawData.projects.map((project) => ({
        ...project,
        imageUrl: project.file ? projectImageMap[project.file] : undefined,
    })),
};
const skillsEntry = await getEntry("site", "skills");
const skillsData = skillsEntry.data as {
    title: string;
    iconType: "code2" | "wrench" | "database" | "award";
    skillCategories: Array<{
        iconType: "code2" | "wrench" | "database" | "award";
        title: string;
        items: string[];
        color: "primary" | "secondary" | "accent";
    }>;
};
const certificationsEntry = await getEntry("site", "certifications");
const certificationsData = certificationsEntry.data as {
    title: string;
    subtitle: string;
    certifications: Array<{
        name: string;
        issuer: string;
    }>;
};
const achievementsEntry = await getEntry("site", "achievements");
const achievementsData = achievementsEntry.data as {
    title: string;
    achievements: Array<{
        name: string;
        category: string;
        year: string;
        color: string;
    }>;
};
const educationEntry = await getEntry("site", "education");
const educationData = educationEntry.data as {
    title: string;
    education: Array<{
        institution: string;
        location: string;
        degree: string;
        duration: string;
        cgpa: string;
        color: "primary" | "secondary" | "accent";
    }>;
};
const contactEntry = await getEntry("site", "contact");
const contactData = contactEntry.data as {
    title: string;
    socialTitle: string;
    contactItems: Array<{
        iconType: "mail" | "phone" | "mappin";
        label: string;
        value: string;
        href: string | null;
        color: string;
    }>;
    socialLinks: Array<{
        iconType: "github" | "linkedin";
        label: string;
        href: string;
        color: string;
    }>;
    ctaEmail: string;
};
---

<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Piyushh Bhutoria - Senior Software Developer</title>
    </head>
    <body>
        <App
            client:load
            heroData={heroData}
            aboutData={aboutData}
            experienceData={experienceData}
            projectsData={projectsData}
            skillsData={skillsData}
            certificationsData={certificationsData}
            achievementsData={achievementsData}
            educationData={educationData}
            contactData={contactData}
        />
    </body>
</html>
